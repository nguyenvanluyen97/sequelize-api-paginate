'use strict'; const _0x3fe509 = _0x1d1f; function _0x4c88() { const _0xaee5c8 = ['moment', 'between', 'exports', '666fVeLkw', 'indexOp', 'pageSize', 'length', 'splice', 'iLike', 'currentPage', '7QCPlLv', '1503102VEyZVp', 'constructor', 'key', 'keys', './build-condition', '\x2023:59\x20+00:00', 'and', 'type', '594540UEZktc', 'YYYY/MM/DD', 'tableAttributes', 'subQuery', 'ceil', 'count', 'distinct', 'isValid', 'filters', 'DD-MM-YYYY', 'toUTCString', 'findAndCountAll', '414018ALLKkX', '2447946SDLIez', '923164DSvntd', 'DD/MM/YYYY', '1121472QEuwln', 'sequelize', 'getCorrectFormatTime', '1USFyLx', 'substring', 'YYYY-MM-DD', 'sortField', '\x2000:00\x20+00:00', 'format', 'DATE']; _0x4c88 = function () { return _0xaee5c8; }; return _0x4c88(); } function _0x1d1f(_0x1c7008, _0x276d3d) { const _0x4c883b = _0x4c88(); return _0x1d1f = function (_0x1d1f1e, _0x1e9572) { _0x1d1f1e = _0x1d1f1e - 0x1d6; let _0x536f10 = _0x4c883b[_0x1d1f1e]; return _0x536f10; }, _0x1d1f(_0x1c7008, _0x276d3d); } (function (_0x1a1c98, _0x5a6bbf) { const _0x957e53 = _0x1d1f, _0x5d96e0 = _0x1a1c98(); while (!![]) { try { const _0x500929 = -parseInt(_0x957e53(0x1de)) / 0x1 * (-parseInt(_0x957e53(0x1e8)) / 0x2) + parseInt(_0x957e53(0x1d7)) / 0x3 + -parseInt(_0x957e53(0x1d9)) / 0x4 + parseInt(_0x957e53(0x1f8)) / 0x5 + parseInt(_0x957e53(0x1f0)) / 0x6 * (-parseInt(_0x957e53(0x1ef)) / 0x7) + parseInt(_0x957e53(0x1db)) / 0x8 + parseInt(_0x957e53(0x1d8)) / 0x9; if (_0x500929 === _0x5a6bbf) break; else _0x5d96e0['push'](_0x5d96e0['shift']()); } catch (_0x17ff71) { _0x5d96e0['push'](_0x5d96e0['shift']()); } } }(_0x4c88, 0x2ded5)); const Op = require(_0x3fe509(0x1dc))['Op'], moment = require(_0x3fe509(0x1e5)), buildCondition = require(_0x3fe509(0x1f4)); module[_0x3fe509(0x1e7)] = async function (_0x2dd517, _0x387a71, _0x239f76 = [], _0x3e0841 = ![], _0x9be787 = !![], _0x24b397 = !![], _0x122cfc = ![], _0x3ebb93 = null) { const _0x1f59cf = _0x3fe509; for (const _0x36df7d of _0x387a71['dateField']) { if (_0x36df7d['opType'] == 'none') { var _0x57fceb = 0x0, _0x20ea32 = _0x387a71[_0x1f59cf(0x200)][Op[_0x1f59cf(0x1f6)]][_0x36df7d['indexOp']]; if (_0x20ea32[Object['keys'](_0x20ea32)][Op[_0x1f59cf(0x1ed)]] != undefined) { if (moment(_0x20ea32[Object['keys'](_0x20ea32)][Op[_0x1f59cf(0x1ed)]][_0x1f59cf(0x1df)](0x1, _0x20ea32[Object['keys'](_0x20ea32)][Op['iLike']][_0x1f59cf(0x1eb)] - 0x1), [_0x1f59cf(0x1f9), 'YYYY-MM-DD', _0x1f59cf(0x1da), _0x1f59cf(0x201)], !![])['isValid']()) { if (_0x2dd517[_0x1f59cf(0x1fa)][Object[_0x1f59cf(0x1f3)](_0x20ea32)][_0x1f59cf(0x1f7)][_0x1f59cf(0x1f1)][_0x1f59cf(0x1f2)] == _0x1f59cf(0x1e4)) { _0x20ea32[Object['keys'](_0x20ea32)] = _0x20ea32[Object[_0x1f59cf(0x1f3)](_0x20ea32)][Op[_0x1f59cf(0x1ed)]][_0x1f59cf(0x1df)](0x1, _0x20ea32[Object[_0x1f59cf(0x1f3)](_0x20ea32)][Op[_0x1f59cf(0x1ed)]][_0x1f59cf(0x1eb)] - 0x1); const _0x51068f = buildCondition[_0x1f59cf(0x1dd)](_0x20ea32[Object[_0x1f59cf(0x1f3)](_0x20ea32)]); let _0x79c41b = new Date(moment(_0x20ea32[Object['keys'](_0x20ea32)], _0x51068f)[_0x1f59cf(0x1e3)](_0x1f59cf(0x1f9)) + _0x1f59cf(0x1e2))[_0x1f59cf(0x202)](), _0x5749fb = new Date(moment(_0x20ea32[Object[_0x1f59cf(0x1f3)](_0x20ea32)], _0x51068f)[_0x1f59cf(0x1e3)](_0x1f59cf(0x1f9)) + _0x1f59cf(0x1f5))['toUTCString'](); _0x387a71['filters'][Op[_0x1f59cf(0x1f6)]][_0x1f59cf(0x1ec)](_0x36df7d['indexOp'], 0x1, { [Object[_0x1f59cf(0x1f3)](_0x20ea32)]: { [Op[_0x1f59cf(0x1e6)]]: [_0x79c41b, _0x5749fb] } }); } else _0x387a71[_0x1f59cf(0x200)][Op[_0x1f59cf(0x1f6)]][_0x1f59cf(0x1ec)](_0x36df7d['indexOp'], 0x1); } else _0x387a71[_0x1f59cf(0x200)][Op[_0x1f59cf(0x1f6)]][_0x1f59cf(0x1ec)](_0x36df7d['indexOp'], 0x1); } else { if (moment(_0x20ea32[Object['keys'](_0x20ea32)], [_0x1f59cf(0x1f9), _0x1f59cf(0x1e0), _0x1f59cf(0x1da), _0x1f59cf(0x201)], !![])[_0x1f59cf(0x1ff)]()) { if (_0x2dd517[_0x1f59cf(0x1fa)][Object['keys'](_0x20ea32)][_0x1f59cf(0x1f7)][_0x1f59cf(0x1f1)]['key'] == 'DATE') { const _0x7ed0f5 = buildCondition[_0x1f59cf(0x1dd)](_0x20ea32[Object['keys'](_0x20ea32)]); let _0x54cc0a = new Date(moment(_0x20ea32[Object[_0x1f59cf(0x1f3)](_0x20ea32)], _0x7ed0f5)[_0x1f59cf(0x1e3)](_0x1f59cf(0x1f9)) + '\x2000:00\x20+00:00')[_0x1f59cf(0x202)](), _0x46a6bc = new Date(moment(_0x20ea32[Object[_0x1f59cf(0x1f3)](_0x20ea32)], _0x7ed0f5)[_0x1f59cf(0x1e3)](_0x1f59cf(0x1f9)) + '\x2023:59\x20+00:00')[_0x1f59cf(0x202)](); _0x387a71[_0x1f59cf(0x200)][Op[_0x1f59cf(0x1f6)]][_0x1f59cf(0x1ec)](_0x36df7d[_0x1f59cf(0x1e9)], 0x1, { [Object['keys'](_0x20ea32)]: { [Op[_0x1f59cf(0x1e6)]]: [_0x54cc0a, _0x46a6bc] } }); } else _0x387a71[_0x1f59cf(0x200)][Op[_0x1f59cf(0x1f6)]][_0x1f59cf(0x1ec)](_0x36df7d['indexOp'], 0x1); } else { } } } if (_0x36df7d['opType'] == 'or') { var _0x57fceb = 0x0; for (const _0x16e8a0 of _0x387a71[_0x1f59cf(0x200)][Op['and']][_0x36df7d[_0x1f59cf(0x1e9)]][Op['or']]) { if (_0x16e8a0[Object[_0x1f59cf(0x1f3)](_0x16e8a0)][Op[_0x1f59cf(0x1ed)]] != undefined) { if (moment(_0x16e8a0[Object[_0x1f59cf(0x1f3)](_0x16e8a0)][Op[_0x1f59cf(0x1ed)]][_0x1f59cf(0x1df)](0x1, _0x16e8a0[Object[_0x1f59cf(0x1f3)](_0x16e8a0)][Op[_0x1f59cf(0x1ed)]]['length'] - 0x1), [_0x1f59cf(0x1f9), 'YYYY-MM-DD', _0x1f59cf(0x1da), _0x1f59cf(0x201)], !![])[_0x1f59cf(0x1ff)]()) { if (_0x2dd517[_0x1f59cf(0x1fa)][Object[_0x1f59cf(0x1f3)](_0x16e8a0)][_0x1f59cf(0x1f7)]['constructor'][_0x1f59cf(0x1f2)] == 'DATE') { _0x16e8a0[Object[_0x1f59cf(0x1f3)](_0x16e8a0)] = _0x16e8a0[Object[_0x1f59cf(0x1f3)](_0x16e8a0)][Op[_0x1f59cf(0x1ed)]][_0x1f59cf(0x1df)](0x1, _0x16e8a0[Object[_0x1f59cf(0x1f3)](_0x16e8a0)][Op[_0x1f59cf(0x1ed)]][_0x1f59cf(0x1eb)] - 0x1); const _0x292f66 = buildCondition[_0x1f59cf(0x1dd)](_0x16e8a0[Object[_0x1f59cf(0x1f3)](_0x16e8a0)]); let _0x4ac760 = new Date(moment(_0x16e8a0[Object[_0x1f59cf(0x1f3)](_0x16e8a0)], _0x292f66)[_0x1f59cf(0x1e3)](_0x1f59cf(0x1f9)) + _0x1f59cf(0x1e2))[_0x1f59cf(0x202)](), _0x3a72e1 = new Date(moment(_0x16e8a0[Object['keys'](_0x16e8a0)], _0x292f66)[_0x1f59cf(0x1e3)](_0x1f59cf(0x1f9)) + _0x1f59cf(0x1f5))[_0x1f59cf(0x202)](); _0x387a71[_0x1f59cf(0x200)][Op['and']][_0x36df7d[_0x1f59cf(0x1e9)]][Op['or']][_0x1f59cf(0x1ec)](_0x57fceb, 0x1, { [Object[_0x1f59cf(0x1f3)](_0x16e8a0)]: { [Op[_0x1f59cf(0x1e6)]]: [_0x4ac760, _0x3a72e1] } }); } else delete _0x387a71[_0x1f59cf(0x200)][Op[_0x1f59cf(0x1f6)]][_0x36df7d[_0x1f59cf(0x1e9)]][Op['or']][_0x57fceb]; } } else { if (moment(_0x16e8a0[Object['keys'](_0x16e8a0)], [_0x1f59cf(0x1f9), _0x1f59cf(0x1e0), _0x1f59cf(0x1da), 'DD-MM-YYYY'], !![])[_0x1f59cf(0x1ff)]()) { if (_0x2dd517[_0x1f59cf(0x1fa)][Object[_0x1f59cf(0x1f3)](_0x16e8a0)][_0x1f59cf(0x1f7)][_0x1f59cf(0x1f1)]['key'] == _0x1f59cf(0x1e4)) { const _0xd227e7 = buildCondition[_0x1f59cf(0x1dd)](_0x16e8a0[Object['keys'](_0x16e8a0)]); let _0x31bc05 = new Date(moment(_0x16e8a0[Object[_0x1f59cf(0x1f3)](_0x16e8a0)], _0xd227e7)[_0x1f59cf(0x1e3)](_0x1f59cf(0x1f9)) + _0x1f59cf(0x1e2))[_0x1f59cf(0x202)](), _0x19e67c = new Date(moment(_0x16e8a0[Object[_0x1f59cf(0x1f3)](_0x16e8a0)], _0xd227e7)['format']('YYYY/MM/DD') + _0x1f59cf(0x1f5))[_0x1f59cf(0x202)](); _0x387a71[_0x1f59cf(0x200)][Op[_0x1f59cf(0x1f6)]][_0x36df7d[_0x1f59cf(0x1e9)]][Op['or']][_0x1f59cf(0x1ec)](_0x57fceb, 0x1, { [Object[_0x1f59cf(0x1f3)](_0x16e8a0)]: { [Op['between']]: [_0x31bc05, _0x19e67c] } }); } else delete _0x387a71['filters'][Op['and']][_0x36df7d['indexOp']][Op['or']][_0x57fceb]; } } _0x57fceb += 0x1; } } } let _0x1c9545 = { 'limit': _0x387a71['pageSize'], 'offset': (_0x387a71['currentPage'] - 0x1) * _0x387a71[_0x1f59cf(0x1ea)] || 0x0, 'order': _0x387a71[_0x1f59cf(0x1e1)] != null ? [[_0x387a71[_0x1f59cf(0x1e1)], _0x387a71['sortOrder']]] : [], 'include': _0x239f76, 'where': _0x387a71['filters'], 'raw': _0x9be787, 'nest': _0x24b397 }; if (_0x122cfc) _0x1c9545[_0x1f59cf(0x1fe)] = _0x122cfc; if (_0x3e0841) _0x1c9545['hierarchy'] = !![]; if (_0x3ebb93 == !![] || _0x3ebb93 == ![]) _0x1c9545[_0x1f59cf(0x1fb)] = _0x3ebb93; var _0x56bde5 = await _0x2dd517[_0x1f59cf(0x1d6)](_0x1c9545); return _0x56bde5['totalPages'] = Math[_0x1f59cf(0x1fc)](_0x56bde5[_0x1f59cf(0x1fd)] / _0x387a71['pageSize']), _0x56bde5[_0x1f59cf(0x1ee)] = _0x387a71['currentPage'], _0x56bde5; };